<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web2Print</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
<body class="bg-dark text-white">
  <section class="bg-dark text-white py-2">
    <div class="container">
      <nav>
        <ul class="d-flex justify-content-center list-unstyled">
          <li class="mx-2"><a href="#hero">Home</a></li>
          <li class="mx-2"><a href="#web-component-section">Web Component</a></li>
        </ul>
      </nav>
    </div>
  </section>
  <section id="hero">
    <div class="container">
      <div class="row">
        <hgroup class="p-5 text-center">
          <h1>BSS Wrapper</h1>
          <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Blanditiis officia consequuntur vitae, tempora maxime ut hic eveniet iure. Veritatis esse accusantium perferendis asperiores nam deserunt sint ad dignissimos molestias eum!</p>
        </hgroup>
      </div>
    </div>
  </section>
  <section id="web-component-section" class="bg-dark">
    <div class="container bg-light text-dark">
      <web2-print id="web2print-component"></web2-print>
    </div>
  </section>
  <section id="footer" class="bg-dark text-white">
    <div class="container">
      <div class="row">
        <div class="p-3 text-center">
          <h5 class="mb-1">Footer | 2029</h5>
        </div>
      </div>
    </div>
  </section>
  <script>
    const web2printComponent = document.getElementById('web2print-component');
    const urlParams = new URLSearchParams(window.location.search);
    let token = urlParams.get('token');
    if (!token) {
      token = localStorage.getItem('token');
    }
    
    // set token to component
    web2printComponent.setAttribute('token', token);
    localStorage.setItem('token', token);
  
    // Now load the web2print.js script after token is set
    const script = document.createElement('script');
    script.src = 'https://agreeable-river-0eb2bb703-dev.westeurope.5.azurestaticapps.net/wc/web2print.js';
    document.body.appendChild(script);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
